{"version":3,"sources":["@wordpress/block-library/src/missing/edit.native.js"],"names":["UnsupportedBlockEdit","props","state","showHelp","setState","infoIconStyle","getStylesFromColorScheme","styles","infoIcon","infoIconDark","toggleSheet","bind","helpIconContainer","color","title","infoTextStyle","infoText","infoTextDark","infoTitleStyle","infoTitle","infoTitleDark","infoDescriptionStyle","infoDescription","infoDescriptionDark","infoSheetIconStyle","infoSheetIcon","infoSheetIconDark","titleFormat","Platform","OS","infoContainer","size","originalName","attributes","preferredColorScheme","blockType","coreBlocks","settings","titleStyle","unsupportedBlockMessage","unsupportedBlockMessageDark","subTitleStyle","unsupportedBlockSubtitle","unsupportedBlockSubtitleDark","subtitle","icon","iconStyle","unsupportedBlockIcon","unsupportedBlockIconDark","iconClassName","unsupportedBlock","unsupportedBlockDark","renderHelpIcon","src","renderSheet","Component"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport { Platform, View, Text, TouchableWithoutFeedback } from 'react-native';\n\n/**\n * WordPress dependencies\n */\nimport { BottomSheet, Icon } from '@wordpress/components';\nimport { withPreferredColorScheme } from '@wordpress/compose';\nimport { coreBlocks } from '@wordpress/block-library';\nimport { normalizeIconObject } from '@wordpress/blocks';\nimport { Component } from '@wordpress/element';\nimport { __, sprintf } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport styles from './style.scss';\n\nexport class UnsupportedBlockEdit extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.state = { showHelp: false };\n\t}\n\n\ttoggleSheet() {\n\t\tthis.setState( {\n\t\t\tshowHelp: ! this.state.showHelp,\n\t\t} );\n\t}\n\n\trenderHelpIcon() {\n\t\tconst infoIconStyle = this.props.getStylesFromColorScheme(\n\t\t\tstyles.infoIcon,\n\t\t\tstyles.infoIconDark\n\t\t);\n\n\t\treturn (\n\t\t\t<TouchableWithoutFeedback\n\t\t\t\taccessibilityLabel={ __( 'Help icon' ) }\n\t\t\t\taccessibilityRole={ 'button' }\n\t\t\t\taccessibilityHint={ __( 'Tap here to show help' ) }\n\t\t\t\tonPress={ this.toggleSheet.bind( this ) }\n\t\t\t>\n\t\t\t\t<View style={ styles.helpIconContainer }>\n\t\t\t\t\t<Icon\n\t\t\t\t\t\tclassName=\"unsupported-icon-help\"\n\t\t\t\t\t\tlabel={ __( 'Help icon' ) }\n\t\t\t\t\t\ticon=\"editor-help\"\n\t\t\t\t\t\tcolor={ infoIconStyle.color }\n\t\t\t\t\t/>\n\t\t\t\t</View>\n\t\t\t</TouchableWithoutFeedback>\n\t\t);\n\t}\n\n\trenderSheet( title ) {\n\t\tconst { getStylesFromColorScheme } = this.props;\n\t\tconst infoTextStyle = getStylesFromColorScheme(\n\t\t\tstyles.infoText,\n\t\t\tstyles.infoTextDark\n\t\t);\n\t\tconst infoTitleStyle = getStylesFromColorScheme(\n\t\t\tstyles.infoTitle,\n\t\t\tstyles.infoTitleDark\n\t\t);\n\t\tconst infoDescriptionStyle = getStylesFromColorScheme(\n\t\t\tstyles.infoDescription,\n\t\t\tstyles.infoDescriptionDark\n\t\t);\n\t\tconst infoSheetIconStyle = getStylesFromColorScheme(\n\t\t\tstyles.infoSheetIcon,\n\t\t\tstyles.infoSheetIconDark\n\t\t);\n\n\t\t// translators: %s: Name of the block\n\t\tconst titleFormat =\n\t\t\tPlatform.OS === 'android'\n\t\t\t\t? __( \"'%s' isn't yet supported on WordPress for Android\" )\n\t\t\t\t: __( \"'%s' isn't yet supported on WordPress for iOS\" );\n\t\tconst infoTitle = sprintf( titleFormat, title );\n\n\t\treturn (\n\t\t\t<BottomSheet\n\t\t\t\tisVisible={ this.state.showHelp }\n\t\t\t\thideHeader\n\t\t\t\tonClose={ this.toggleSheet.bind( this ) }\n\t\t\t>\n\t\t\t\t<View style={ styles.infoContainer }>\n\t\t\t\t\t<Icon\n\t\t\t\t\t\ticon=\"editor-help\"\n\t\t\t\t\t\tcolor={ infoSheetIconStyle.color }\n\t\t\t\t\t\tsize={ styles.infoSheetIcon.size }\n\t\t\t\t\t/>\n\t\t\t\t\t<Text style={ [ infoTextStyle, infoTitleStyle ] }>\n\t\t\t\t\t\t{ infoTitle }\n\t\t\t\t\t</Text>\n\t\t\t\t\t<Text style={ [ infoTextStyle, infoDescriptionStyle ] }>\n\t\t\t\t\t\t{ __(\n\t\t\t\t\t\t\t'We are working hard to add more blocks with each release. In the meantime, you can also edit this post on the web.'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Text>\n\t\t\t\t</View>\n\t\t\t</BottomSheet>\n\t\t);\n\t}\n\n\trender() {\n\t\tconst { originalName } = this.props.attributes;\n\t\tconst { getStylesFromColorScheme, preferredColorScheme } = this.props;\n\t\tconst blockType = coreBlocks[ originalName ];\n\n\t\tconst title = blockType ? blockType.settings.title : originalName;\n\t\tconst titleStyle = getStylesFromColorScheme(\n\t\t\tstyles.unsupportedBlockMessage,\n\t\t\tstyles.unsupportedBlockMessageDark\n\t\t);\n\n\t\tconst subTitleStyle = getStylesFromColorScheme(\n\t\t\tstyles.unsupportedBlockSubtitle,\n\t\t\tstyles.unsupportedBlockSubtitleDark\n\t\t);\n\t\tconst subtitle = (\n\t\t\t<Text style={ subTitleStyle }>{ __( 'Unsupported' ) }</Text>\n\t\t);\n\n\t\tconst icon = blockType\n\t\t\t? normalizeIconObject( blockType.settings.icon )\n\t\t\t: 'admin-plugins';\n\t\tconst iconStyle = getStylesFromColorScheme(\n\t\t\tstyles.unsupportedBlockIcon,\n\t\t\tstyles.unsupportedBlockIconDark\n\t\t);\n\t\tconst iconClassName = 'unsupported-icon' + '-' + preferredColorScheme;\n\t\treturn (\n\t\t\t<View\n\t\t\t\tstyle={ getStylesFromColorScheme(\n\t\t\t\t\tstyles.unsupportedBlock,\n\t\t\t\t\tstyles.unsupportedBlockDark\n\t\t\t\t) }\n\t\t\t>\n\t\t\t\t{ this.renderHelpIcon() }\n\t\t\t\t<Icon\n\t\t\t\t\tclassName={ iconClassName }\n\t\t\t\t\ticon={ icon && icon.src ? icon.src : icon }\n\t\t\t\t\tcolor={ iconStyle.color }\n\t\t\t\t/>\n\t\t\t\t<Text style={ titleStyle }>{ title }</Text>\n\t\t\t\t{ subtitle }\n\t\t\t\t{ this.renderSheet( title ) }\n\t\t\t</View>\n\t\t);\n\t}\n}\n\nexport default withPreferredColorScheme( UnsupportedBlockEdit );\n"]}