{"version":3,"sources":["@wordpress/block-library/src/gallery/gallery.js"],"names":["Gallery","props","attributes","className","isSelected","setAttributes","selectedImage","mediaPlaceholder","onMoveBackward","onMoveForward","onRemoveImage","onSelectImage","onSetImageAttributes","onFocusGalleryCaption","align","columns","caption","imageCrop","images","captionClassNames","RichText","isEmpty","map","img","index","ariaLabel","length","id","url","alt","attrs","value"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { RichText } from '@wordpress/block-editor';\nimport { __, sprintf } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport GalleryImage from './gallery-image';\nimport { defaultColumnsNumber } from './shared';\n\nexport const Gallery = ( props ) => {\n\tconst {\n\t\tattributes,\n\t\tclassName,\n\t\tisSelected,\n\t\tsetAttributes,\n\t\tselectedImage,\n\t\tmediaPlaceholder,\n\t\tonMoveBackward,\n\t\tonMoveForward,\n\t\tonRemoveImage,\n\t\tonSelectImage,\n\t\tonSetImageAttributes,\n\t\tonFocusGalleryCaption,\n\t} = props;\n\n\tconst {\n\t\talign,\n\t\tcolumns = defaultColumnsNumber( attributes ),\n\t\tcaption,\n\t\timageCrop,\n\t\timages,\n\t} = attributes;\n\n\tconst captionClassNames = classnames( 'blocks-gallery-caption', {\n\t\t'screen-reader-text': ! isSelected && RichText.isEmpty( caption ),\n\t} );\n\n\treturn (\n\t\t<figure\n\t\t\tclassName={ classnames( className, {\n\t\t\t\t[ `align${ align }` ]: align,\n\t\t\t\t[ `columns-${ columns }` ]: columns,\n\t\t\t\t'is-cropped': imageCrop,\n\t\t\t} ) }\n\t\t>\n\t\t\t<ul className=\"blocks-gallery-grid\">\n\t\t\t\t{ images.map( ( img, index ) => {\n\t\t\t\t\t/* translators: %1$d is the order number of the image, %2$d is the total number of images. */\n\t\t\t\t\tconst ariaLabel = sprintf(\n\t\t\t\t\t\t__( 'image %1$d of %2$d in gallery' ),\n\t\t\t\t\t\tindex + 1,\n\t\t\t\t\t\timages.length\n\t\t\t\t\t);\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tclassName=\"blocks-gallery-item\"\n\t\t\t\t\t\t\tkey={ img.id || img.url }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<GalleryImage\n\t\t\t\t\t\t\t\turl={ img.url }\n\t\t\t\t\t\t\t\talt={ img.alt }\n\t\t\t\t\t\t\t\tid={ img.id }\n\t\t\t\t\t\t\t\tisFirstItem={ index === 0 }\n\t\t\t\t\t\t\t\tisLastItem={ index + 1 === images.length }\n\t\t\t\t\t\t\t\tisSelected={\n\t\t\t\t\t\t\t\t\tisSelected && selectedImage === index\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tonMoveBackward={ onMoveBackward( index ) }\n\t\t\t\t\t\t\t\tonMoveForward={ onMoveForward( index ) }\n\t\t\t\t\t\t\t\tonRemove={ onRemoveImage( index ) }\n\t\t\t\t\t\t\t\tonSelect={ onSelectImage( index ) }\n\t\t\t\t\t\t\t\tsetAttributes={ ( attrs ) =>\n\t\t\t\t\t\t\t\t\tonSetImageAttributes( index, attrs )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcaption={ img.caption }\n\t\t\t\t\t\t\t\taria-label={ ariaLabel }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</ul>\n\t\t\t{ mediaPlaceholder }\n\t\t\t<RichText\n\t\t\t\ttagName=\"figcaption\"\n\t\t\t\tclassName={ captionClassNames }\n\t\t\t\tplaceholder={ __( 'Write gallery captionâ€¦' ) }\n\t\t\t\tvalue={ caption }\n\t\t\t\tunstableOnFocus={ onFocusGalleryCaption }\n\t\t\t\tonChange={ ( value ) => setAttributes( { caption: value } ) }\n\t\t\t\tinlineToolbar\n\t\t\t/>\n\t\t</figure>\n\t);\n};\n\nexport default Gallery;\n"]}