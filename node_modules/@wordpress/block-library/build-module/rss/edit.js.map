{"version":3,"sources":["@wordpress/block-library/src/rss/edit.js"],"names":["Component","Button","Disabled","PanelBody","Placeholder","RangeControl","TextControl","ToggleControl","ToolbarGroup","__","BlockControls","InspectorControls","ServerSideRender","DEFAULT_MIN_ITEMS","DEFAULT_MAX_ITEMS","RSSEdit","arguments","state","editing","props","attributes","feedURL","toggleAttribute","bind","onSubmitURL","propName","value","setAttributes","event","preventDefault","setState","blockLayout","columns","displayAuthor","displayExcerpt","displayDate","excerptLength","itemsToShow","toolbarControls","icon","title","onClick","isActive"],"mappings":"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","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport {\n\tButton,\n\tDisabled,\n\tPanelBody,\n\tPlaceholder,\n\tRangeControl,\n\tTextControl,\n\tToggleControl,\n\tToolbarGroup,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { BlockControls, InspectorControls } from '@wordpress/block-editor';\nimport ServerSideRender from '@wordpress/server-side-render';\n\nconst DEFAULT_MIN_ITEMS = 1;\nconst DEFAULT_MAX_ITEMS = 10;\n\nclass RSSEdit extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.state = {\n\t\t\tediting: ! this.props.attributes.feedURL,\n\t\t};\n\n\t\tthis.toggleAttribute = this.toggleAttribute.bind( this );\n\t\tthis.onSubmitURL = this.onSubmitURL.bind( this );\n\t}\n\n\ttoggleAttribute( propName ) {\n\t\treturn () => {\n\t\t\tconst value = this.props.attributes[ propName ];\n\t\t\tconst { setAttributes } = this.props;\n\n\t\t\tsetAttributes( { [ propName ]: ! value } );\n\t\t};\n\t}\n\n\tonSubmitURL( event ) {\n\t\tevent.preventDefault();\n\n\t\tconst { feedURL } = this.props.attributes;\n\t\tif ( feedURL ) {\n\t\t\tthis.setState( { editing: false } );\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tblockLayout,\n\t\t\tcolumns,\n\t\t\tdisplayAuthor,\n\t\t\tdisplayExcerpt,\n\t\t\tdisplayDate,\n\t\t\texcerptLength,\n\t\t\tfeedURL,\n\t\t\titemsToShow,\n\t\t} = this.props.attributes;\n\t\tconst { setAttributes } = this.props;\n\n\t\tif ( this.state.editing ) {\n\t\t\treturn (\n\t\t\t\t<Placeholder icon=\"rss\" label=\"RSS\">\n\t\t\t\t\t<form onSubmit={ this.onSubmitURL }>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\tplaceholder={ __( 'Enter URL hereâ€¦' ) }\n\t\t\t\t\t\t\tvalue={ feedURL }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { feedURL: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tclassName={ 'components-placeholder__input' }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button isSecondary type=\"submit\">\n\t\t\t\t\t\t\t{ __( 'Use URL' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</form>\n\t\t\t\t</Placeholder>\n\t\t\t);\n\t\t}\n\n\t\tconst toolbarControls = [\n\t\t\t{\n\t\t\t\ticon: 'edit',\n\t\t\t\ttitle: __( 'Edit RSS URL' ),\n\t\t\t\tonClick: () => this.setState( { editing: true } ),\n\t\t\t},\n\t\t\t{\n\t\t\t\ticon: 'list-view',\n\t\t\t\ttitle: __( 'List view' ),\n\t\t\t\tonClick: () => setAttributes( { blockLayout: 'list' } ),\n\t\t\t\tisActive: blockLayout === 'list',\n\t\t\t},\n\t\t\t{\n\t\t\t\ticon: 'grid-view',\n\t\t\t\ttitle: __( 'Grid view' ),\n\t\t\t\tonClick: () => setAttributes( { blockLayout: 'grid' } ),\n\t\t\t\tisActive: blockLayout === 'grid',\n\t\t\t},\n\t\t];\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<BlockControls>\n\t\t\t\t\t<ToolbarGroup controls={ toolbarControls } />\n\t\t\t\t</BlockControls>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={ __( 'RSS settings' ) }>\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tlabel={ __( 'Number of items' ) }\n\t\t\t\t\t\t\tvalue={ itemsToShow }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { itemsToShow: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmin={ DEFAULT_MIN_ITEMS }\n\t\t\t\t\t\t\tmax={ DEFAULT_MAX_ITEMS }\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Display author' ) }\n\t\t\t\t\t\t\tchecked={ displayAuthor }\n\t\t\t\t\t\t\tonChange={ this.toggleAttribute( 'displayAuthor' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Display date' ) }\n\t\t\t\t\t\t\tchecked={ displayDate }\n\t\t\t\t\t\t\tonChange={ this.toggleAttribute( 'displayDate' ) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Display excerpt' ) }\n\t\t\t\t\t\t\tchecked={ displayExcerpt }\n\t\t\t\t\t\t\tonChange={ this.toggleAttribute(\n\t\t\t\t\t\t\t\t'displayExcerpt'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{ displayExcerpt && (\n\t\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Max number of words in excerpt' ) }\n\t\t\t\t\t\t\t\tvalue={ excerptLength }\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( { excerptLength: value } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tmin={ 10 }\n\t\t\t\t\t\t\t\tmax={ 100 }\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ blockLayout === 'grid' && (\n\t\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Columns' ) }\n\t\t\t\t\t\t\t\tvalue={ columns }\n\t\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( { columns: value } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tmin={ 2 }\n\t\t\t\t\t\t\t\tmax={ 6 }\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t\t<Disabled>\n\t\t\t\t\t<ServerSideRender\n\t\t\t\t\t\tblock=\"core/rss\"\n\t\t\t\t\t\tattributes={ this.props.attributes }\n\t\t\t\t\t/>\n\t\t\t\t</Disabled>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default RSSEdit;\n"]}