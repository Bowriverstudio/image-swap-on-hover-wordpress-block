{"version":3,"sources":["@wordpress/block-library/src/media-text/save.js"],"names":["classnames","noop","isEmpty","InnerBlocks","getColorClassName","imageFillStyles","DEFAULT_MEDIA_WIDTH","save","attributes","backgroundColor","customBackgroundColor","isStackedOnMobile","mediaAlt","mediaPosition","mediaType","mediaUrl","mediaWidth","mediaId","verticalAlignment","imageFill","focalPoint","linkClass","href","linkTarget","rel","newRel","undefined","image","mediaTypeRenders","video","backgroundClass","className","backgroundStyles","gridTemplateColumns","style"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { noop, isEmpty } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { InnerBlocks, getColorClassName } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { imageFillStyles } from './media-container';\n\nconst DEFAULT_MEDIA_WIDTH = 50;\n\nexport default function save( { attributes } ) {\n\tconst {\n\t\tbackgroundColor,\n\t\tcustomBackgroundColor,\n\t\tisStackedOnMobile,\n\t\tmediaAlt,\n\t\tmediaPosition,\n\t\tmediaType,\n\t\tmediaUrl,\n\t\tmediaWidth,\n\t\tmediaId,\n\t\tverticalAlignment,\n\t\timageFill,\n\t\tfocalPoint,\n\t\tlinkClass,\n\t\thref,\n\t\tlinkTarget,\n\t\trel,\n\t} = attributes;\n\tconst newRel = isEmpty( rel ) ? undefined : rel;\n\n\tlet image = (\n\t\t<img\n\t\t\tsrc={ mediaUrl }\n\t\t\talt={ mediaAlt }\n\t\t\tclassName={\n\t\t\t\tmediaId && mediaType === 'image'\n\t\t\t\t\t? `wp-image-${ mediaId }`\n\t\t\t\t\t: null\n\t\t\t}\n\t\t/>\n\t);\n\n\tif ( href ) {\n\t\timage = (\n\t\t\t<a\n\t\t\t\tclassName={ linkClass }\n\t\t\t\thref={ href }\n\t\t\t\ttarget={ linkTarget }\n\t\t\t\trel={ newRel }\n\t\t\t>\n\t\t\t\t{ image }\n\t\t\t</a>\n\t\t);\n\t}\n\n\tconst mediaTypeRenders = {\n\t\timage: () => image,\n\t\tvideo: () => <video controls src={ mediaUrl } />,\n\t};\n\tconst backgroundClass = getColorClassName(\n\t\t'background-color',\n\t\tbackgroundColor\n\t);\n\tconst className = classnames( {\n\t\t'has-media-on-the-right': 'right' === mediaPosition,\n\t\t'has-background': backgroundClass || customBackgroundColor,\n\t\t[ backgroundClass ]: backgroundClass,\n\t\t'is-stacked-on-mobile': isStackedOnMobile,\n\t\t[ `is-vertically-aligned-${ verticalAlignment }` ]: verticalAlignment,\n\t\t'is-image-fill': imageFill,\n\t} );\n\tconst backgroundStyles = imageFill\n\t\t? imageFillStyles( mediaUrl, focalPoint )\n\t\t: {};\n\n\tlet gridTemplateColumns;\n\tif ( mediaWidth !== DEFAULT_MEDIA_WIDTH ) {\n\t\tgridTemplateColumns =\n\t\t\t'right' === mediaPosition\n\t\t\t\t? `auto ${ mediaWidth }%`\n\t\t\t\t: `${ mediaWidth }% auto`;\n\t}\n\tconst style = {\n\t\tbackgroundColor: backgroundClass ? undefined : customBackgroundColor,\n\t\tgridTemplateColumns,\n\t};\n\treturn (\n\t\t<div className={ className } style={ style }>\n\t\t\t<figure\n\t\t\t\tclassName=\"wp-block-media-text__media\"\n\t\t\t\tstyle={ backgroundStyles }\n\t\t\t>\n\t\t\t\t{ ( mediaTypeRenders[ mediaType ] || noop )() }\n\t\t\t</figure>\n\t\t\t<div className=\"wp-block-media-text__content\">\n\t\t\t\t<InnerBlocks.Content />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"]}