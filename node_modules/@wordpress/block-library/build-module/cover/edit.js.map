{"version":3,"sources":["@wordpress/block-library/src/cover/edit.js"],"names":["classnames","FastAverageColor","tinycolor","useEffect","useRef","useState","BaseControl","Button","FocalPointPicker","PanelBody","PanelRow","RangeControl","ResizableBox","ToggleControl","withNotices","compose","withInstanceId","BlockControls","BlockIcon","InnerBlocks","InspectorControls","MediaPlaceholder","MediaReplaceFlow","withColors","ColorPalette","__experimentalUseGradient","__experimentalPanelColorGradientSettings","PanelColorGradientSettings","__","withDispatch","cover","icon","IMAGE_BACKGROUND_TYPE","VIDEO_BACKGROUND_TYPE","COVER_MIN_HEIGHT","backgroundImageStyles","dimRatioToClass","ALLOWED_MEDIA_TYPES","INNER_BLOCKS_TEMPLATE","align","fontSize","placeholder","retrieveFastAverageColor","fastAverageColor","CoverHeightInput","value","instanceId","onChange","temporaryInput","setTemporaryInput","inputId","event","unprocessedValue","target","inputValue","parseInt","undefined","isNaN","RESIZABLE_BOX_ENABLE_OPTION","top","right","bottom","left","topRight","bottomRight","bottomLeft","topLeft","ResizableCover","className","children","onResizeStart","onResize","onResizeStop","isResizing","setIsResizing","direction","elt","clientHeight","onCoverSelectMedia","setAttributes","media","url","id","mediaType","media_type","type","backgroundType","focalPoint","hasParallax","useCoverIsDark","dimRatio","overlayColor","elementRef","isDark","setIsDark","current","getColorAsync","color","CoverEdit","attributes","isSelected","noticeUI","setOverlayColor","toggleSelection","noticeOperations","minHeight","gradientClass","gradientValue","setGradient","onSelectMedia","toggleParallax","isDarkElement","temporaryMinHeight","setTemporaryMinHeight","removeAllNotices","createErrorNotice","style","backgroundColor","background","backgroundPosition","x","y","hasBackground","controls","newFocalPoint","newMinHeight","colorValue","onColorChange","onGradientChange","label","newDimRation","placeholderIcon","title","instructions","message","classes","class","display","dispatch"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport FastAverageColor from 'fast-average-color';\nimport tinycolor from 'tinycolor2';\n\n/**\n * WordPress dependencies\n */\nimport { useEffect, useRef, useState } from '@wordpress/element';\nimport {\n\tBaseControl,\n\tButton,\n\tFocalPointPicker,\n\tPanelBody,\n\tPanelRow,\n\tRangeControl,\n\tResizableBox,\n\tToggleControl,\n\twithNotices,\n} from '@wordpress/components';\nimport { compose, withInstanceId } from '@wordpress/compose';\nimport {\n\tBlockControls,\n\tBlockIcon,\n\tInnerBlocks,\n\tInspectorControls,\n\tMediaPlaceholder,\n\tMediaReplaceFlow,\n\twithColors,\n\tColorPalette,\n\t__experimentalUseGradient,\n\t__experimentalPanelColorGradientSettings as PanelColorGradientSettings,\n} from '@wordpress/block-editor';\nimport { __ } from '@wordpress/i18n';\nimport { withDispatch } from '@wordpress/data';\nimport { cover as icon } from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport {\n\tIMAGE_BACKGROUND_TYPE,\n\tVIDEO_BACKGROUND_TYPE,\n\tCOVER_MIN_HEIGHT,\n\tbackgroundImageStyles,\n\tdimRatioToClass,\n} from './shared';\n\n/**\n * Module Constants\n */\nconst ALLOWED_MEDIA_TYPES = [ 'image', 'video' ];\nconst INNER_BLOCKS_TEMPLATE = [\n\t[\n\t\t'core/paragraph',\n\t\t{\n\t\t\talign: 'center',\n\t\t\tfontSize: 'large',\n\t\t\tplaceholder: __( 'Write title…' ),\n\t\t},\n\t],\n];\n\nfunction retrieveFastAverageColor() {\n\tif ( ! retrieveFastAverageColor.fastAverageColor ) {\n\t\tretrieveFastAverageColor.fastAverageColor = new FastAverageColor();\n\t}\n\treturn retrieveFastAverageColor.fastAverageColor;\n}\n\nconst CoverHeightInput = withInstanceId( function( {\n\tvalue = '',\n\tinstanceId,\n\tonChange,\n} ) {\n\tconst [ temporaryInput, setTemporaryInput ] = useState( null );\n\tconst inputId = `block-cover-height-input-${ instanceId }`;\n\treturn (\n\t\t<BaseControl label={ __( 'Minimum height in pixels' ) } id={ inputId }>\n\t\t\t<input\n\t\t\t\ttype=\"number\"\n\t\t\t\tid={ inputId }\n\t\t\t\tonChange={ ( event ) => {\n\t\t\t\t\tconst unprocessedValue = event.target.value;\n\t\t\t\t\tconst inputValue =\n\t\t\t\t\t\tunprocessedValue !== ''\n\t\t\t\t\t\t\t? parseInt( event.target.value, 10 )\n\t\t\t\t\t\t\t: undefined;\n\t\t\t\t\tif (\n\t\t\t\t\t\t( isNaN( inputValue ) ||\n\t\t\t\t\t\t\tinputValue < COVER_MIN_HEIGHT ) &&\n\t\t\t\t\t\tinputValue !== undefined\n\t\t\t\t\t) {\n\t\t\t\t\t\tsetTemporaryInput( event.target.value );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tsetTemporaryInput( null );\n\t\t\t\t\tonChange( inputValue );\n\t\t\t\t} }\n\t\t\t\tonBlur={ () => {\n\t\t\t\t\tif ( temporaryInput !== null ) {\n\t\t\t\t\t\tsetTemporaryInput( null );\n\t\t\t\t\t}\n\t\t\t\t} }\n\t\t\t\tvalue={ temporaryInput !== null ? temporaryInput : value }\n\t\t\t\tmin={ COVER_MIN_HEIGHT }\n\t\t\t\tstep=\"1\"\n\t\t\t/>\n\t\t</BaseControl>\n\t);\n} );\n\nconst RESIZABLE_BOX_ENABLE_OPTION = {\n\ttop: false,\n\tright: false,\n\tbottom: true,\n\tleft: false,\n\ttopRight: false,\n\tbottomRight: false,\n\tbottomLeft: false,\n\ttopLeft: false,\n};\n\nfunction ResizableCover( {\n\tclassName,\n\tchildren,\n\tonResizeStart,\n\tonResize,\n\tonResizeStop,\n} ) {\n\tconst [ isResizing, setIsResizing ] = useState( false );\n\n\treturn (\n\t\t<ResizableBox\n\t\t\tclassName={ classnames( className, {\n\t\t\t\t'is-resizing': isResizing,\n\t\t\t} ) }\n\t\t\tenable={ RESIZABLE_BOX_ENABLE_OPTION }\n\t\t\tonResizeStart={ ( event, direction, elt ) => {\n\t\t\t\tonResizeStart( elt.clientHeight );\n\t\t\t\tonResize( elt.clientHeight );\n\t\t\t} }\n\t\t\tonResize={ ( event, direction, elt ) => {\n\t\t\t\tonResize( elt.clientHeight );\n\t\t\t\tif ( ! isResizing ) {\n\t\t\t\t\tsetIsResizing( true );\n\t\t\t\t}\n\t\t\t} }\n\t\t\tonResizeStop={ ( event, direction, elt ) => {\n\t\t\t\tonResizeStop( elt.clientHeight );\n\t\t\t\tsetIsResizing( false );\n\t\t\t} }\n\t\t\tminHeight={ COVER_MIN_HEIGHT }\n\t\t>\n\t\t\t{ children }\n\t\t</ResizableBox>\n\t);\n}\n\nfunction onCoverSelectMedia( setAttributes ) {\n\treturn ( media ) => {\n\t\tif ( ! media || ! media.url ) {\n\t\t\tsetAttributes( { url: undefined, id: undefined } );\n\t\t\treturn;\n\t\t}\n\t\tlet mediaType;\n\t\t// for media selections originated from a file upload.\n\t\tif ( media.media_type ) {\n\t\t\tif ( media.media_type === IMAGE_BACKGROUND_TYPE ) {\n\t\t\t\tmediaType = IMAGE_BACKGROUND_TYPE;\n\t\t\t} else {\n\t\t\t\t// only images and videos are accepted so if the media_type is not an image we can assume it is a video.\n\t\t\t\t// Videos contain the media type of 'file' in the object returned from the rest api.\n\t\t\t\tmediaType = VIDEO_BACKGROUND_TYPE;\n\t\t\t}\n\t\t} else {\n\t\t\t// for media selections originated from existing files in the media library.\n\t\t\tif (\n\t\t\t\tmedia.type !== IMAGE_BACKGROUND_TYPE &&\n\t\t\t\tmedia.type !== VIDEO_BACKGROUND_TYPE\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tmediaType = media.type;\n\t\t}\n\n\t\tsetAttributes( {\n\t\t\turl: media.url,\n\t\t\tid: media.id,\n\t\t\tbackgroundType: mediaType,\n\t\t\t...( mediaType === VIDEO_BACKGROUND_TYPE\n\t\t\t\t? { focalPoint: undefined, hasParallax: undefined }\n\t\t\t\t: {} ),\n\t\t} );\n\t};\n}\n\n/**\n * useCoverIsDark is a hook that returns a boolean variable specifying if the cover\n * background is dark or not.\n *\n * @param {?string} url          Url of the media background.\n * @param {?number} dimRatio     Transparency of the overlay color. If an image and\n *                               color are set, dimRatio is used to decide what is used\n *                               for background darkness checking purposes.\n * @param {?string} overlayColor String containing the overlay color value if one exists.\n * @param {?Object} elementRef   If a media background is set, elementRef should contain a reference to a\n *                               dom element that renders that media.\n *\n * @return {boolean} True if the cover background is considered \"dark\" and false otherwise.\n */\nfunction useCoverIsDark( url, dimRatio = 50, overlayColor, elementRef ) {\n\tconst [ isDark, setIsDark ] = useState( false );\n\tuseEffect( () => {\n\t\t// If opacity is lower than 50 the dominant color is the image or video color,\n\t\t// so use that color for the dark mode computation.\n\t\tif ( url && dimRatio <= 50 && elementRef.current ) {\n\t\t\tretrieveFastAverageColor().getColorAsync(\n\t\t\t\telementRef.current,\n\t\t\t\t( color ) => {\n\t\t\t\t\tsetIsDark( color.isDark );\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}, [ url, url && dimRatio <= 50 && elementRef.current, setIsDark ] );\n\tuseEffect( () => {\n\t\t// If opacity is greater than 50 the dominant color is the overlay color,\n\t\t// so use that color for the dark mode computation.\n\t\tif ( dimRatio > 50 || ! url ) {\n\t\t\tif ( ! overlayColor ) {\n\t\t\t\t// If no overlay color exists the overlay color is black (isDark )\n\t\t\t\tsetIsDark( true );\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsetIsDark( tinycolor( overlayColor ).isDark() );\n\t\t}\n\t}, [ overlayColor, dimRatio > 50 || ! url, setIsDark ] );\n\tuseEffect( () => {\n\t\tif ( ! url && ! overlayColor ) {\n\t\t\t// Reset isDark\n\t\t\tsetIsDark( false );\n\t\t}\n\t}, [ ! url && ! overlayColor, setIsDark ] );\n\treturn isDark;\n}\n\nfunction CoverEdit( {\n\tattributes,\n\tsetAttributes,\n\tisSelected,\n\tclassName,\n\tnoticeUI,\n\toverlayColor,\n\tsetOverlayColor,\n\ttoggleSelection,\n\tnoticeOperations,\n} ) {\n\tconst {\n\t\tbackgroundType,\n\t\tdimRatio,\n\t\tfocalPoint,\n\t\thasParallax,\n\t\tminHeight,\n\t\turl,\n\t} = attributes;\n\tconst {\n\t\tgradientClass,\n\t\tgradientValue,\n\t\tsetGradient,\n\t} = __experimentalUseGradient();\n\tconst onSelectMedia = onCoverSelectMedia( setAttributes );\n\n\tconst toggleParallax = () => {\n\t\tsetAttributes( {\n\t\t\thasParallax: ! hasParallax,\n\t\t\t...( ! hasParallax ? { focalPoint: undefined } : {} ),\n\t\t} );\n\t};\n\n\tconst isDarkElement = useRef();\n\tconst isDark = useCoverIsDark(\n\t\turl,\n\t\tdimRatio,\n\t\toverlayColor.color,\n\t\tisDarkElement\n\t);\n\n\tconst [ temporaryMinHeight, setTemporaryMinHeight ] = useState( null );\n\n\tconst { removeAllNotices, createErrorNotice } = noticeOperations;\n\n\tconst style = {\n\t\t...( backgroundType === IMAGE_BACKGROUND_TYPE\n\t\t\t? backgroundImageStyles( url )\n\t\t\t: {} ),\n\t\tbackgroundColor: overlayColor.color,\n\t\tminHeight: temporaryMinHeight || minHeight,\n\t};\n\n\tif ( gradientValue && ! url ) {\n\t\tstyle.background = gradientValue;\n\t}\n\n\tif ( focalPoint ) {\n\t\tstyle.backgroundPosition = `${ focalPoint.x * 100 }% ${ focalPoint.y *\n\t\t\t100 }%`;\n\t}\n\n\tconst hasBackground = !! ( url || overlayColor.color || gradientValue );\n\n\tconst controls = (\n\t\t<>\n\t\t\t<BlockControls>\n\t\t\t\t{ hasBackground && (\n\t\t\t\t\t<MediaReplaceFlow\n\t\t\t\t\t\tmediaURL={ url }\n\t\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\t\taccept=\"image/*,video/*\"\n\t\t\t\t\t\tonSelect={ onSelectMedia }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</BlockControls>\n\t\t\t<InspectorControls>\n\t\t\t\t{ !! url && (\n\t\t\t\t\t<PanelBody title={ __( 'Media settings' ) }>\n\t\t\t\t\t\t{ IMAGE_BACKGROUND_TYPE === backgroundType && (\n\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\tlabel={ __( 'Fixed Background' ) }\n\t\t\t\t\t\t\t\tchecked={ hasParallax }\n\t\t\t\t\t\t\t\tonChange={ toggleParallax }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ IMAGE_BACKGROUND_TYPE === backgroundType &&\n\t\t\t\t\t\t\t! hasParallax && (\n\t\t\t\t\t\t\t\t<FocalPointPicker\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Focal Point Picker' ) }\n\t\t\t\t\t\t\t\t\turl={ url }\n\t\t\t\t\t\t\t\t\tvalue={ focalPoint }\n\t\t\t\t\t\t\t\t\tonChange={ ( newFocalPoint ) =>\n\t\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\t\tfocalPoint: newFocalPoint,\n\t\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ VIDEO_BACKGROUND_TYPE === backgroundType && (\n\t\t\t\t\t\t\t<video autoPlay muted loop src={ url } />\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tisSecondary\n\t\t\t\t\t\t\t\tisSmall\n\t\t\t\t\t\t\t\tclassName=\"block-library-cover__reset-button\"\n\t\t\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\turl: undefined,\n\t\t\t\t\t\t\t\t\t\tid: undefined,\n\t\t\t\t\t\t\t\t\t\tbackgroundType: undefined,\n\t\t\t\t\t\t\t\t\t\tdimRatio: undefined,\n\t\t\t\t\t\t\t\t\t\tfocalPoint: undefined,\n\t\t\t\t\t\t\t\t\t\thasParallax: undefined,\n\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ __( 'Clear Media' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t) }\n\t\t\t\t{ hasBackground && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<PanelBody title={ __( 'Dimensions' ) }>\n\t\t\t\t\t\t\t<CoverHeightInput\n\t\t\t\t\t\t\t\tvalue={ temporaryMinHeight || minHeight }\n\t\t\t\t\t\t\t\tonChange={ ( newMinHeight ) =>\n\t\t\t\t\t\t\t\t\tsetAttributes( { minHeight: newMinHeight } )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t<PanelColorGradientSettings\n\t\t\t\t\t\t\ttitle={ __( 'Overlay' ) }\n\t\t\t\t\t\t\tinitialOpen={ true }\n\t\t\t\t\t\t\tsettings={ [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tcolorValue: overlayColor.color,\n\t\t\t\t\t\t\t\t\tgradientValue,\n\t\t\t\t\t\t\t\t\tonColorChange: setOverlayColor,\n\t\t\t\t\t\t\t\t\tonGradientChange: setGradient,\n\t\t\t\t\t\t\t\t\tlabel: __( 'Overlay' ),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t] }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ !! url && (\n\t\t\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\t\t\tlabel={ __( 'Background Opacity' ) }\n\t\t\t\t\t\t\t\t\tvalue={ dimRatio }\n\t\t\t\t\t\t\t\t\tonChange={ ( newDimRation ) =>\n\t\t\t\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t\t\t\tdimRatio: newDimRation,\n\t\t\t\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tmin={ 0 }\n\t\t\t\t\t\t\t\t\tmax={ 100 }\n\t\t\t\t\t\t\t\t\tstep={ 10 }\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</PanelColorGradientSettings>\n\t\t\t\t\t</>\n\t\t\t\t) }\n\t\t\t</InspectorControls>\n\t\t</>\n\t);\n\n\tif ( ! hasBackground ) {\n\t\tconst placeholderIcon = <BlockIcon icon={ icon } />;\n\t\tconst label = __( 'Cover' );\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{ controls }\n\t\t\t\t<MediaPlaceholder\n\t\t\t\t\ticon={ placeholderIcon }\n\t\t\t\t\tclassName={ className }\n\t\t\t\t\tlabels={ {\n\t\t\t\t\t\ttitle: label,\n\t\t\t\t\t\tinstructions: __(\n\t\t\t\t\t\t\t'Upload an image or video file, or pick one from your media library.'\n\t\t\t\t\t\t),\n\t\t\t\t\t} }\n\t\t\t\t\tonSelect={ onSelectMedia }\n\t\t\t\t\taccept=\"image/*,video/*\"\n\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\tnotices={ noticeUI }\n\t\t\t\t\tonError={ ( message ) => {\n\t\t\t\t\t\tremoveAllNotices();\n\t\t\t\t\t\tcreateErrorNotice( message );\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t<div className=\"wp-block-cover__placeholder-background-options\">\n\t\t\t\t\t\t<ColorPalette\n\t\t\t\t\t\t\tdisableCustomColors={ true }\n\t\t\t\t\t\t\tvalue={ overlayColor.color }\n\t\t\t\t\t\t\tonChange={ setOverlayColor }\n\t\t\t\t\t\t\tclearable={ false }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</MediaPlaceholder>\n\t\t\t</>\n\t\t);\n\t}\n\n\tconst classes = classnames( className, dimRatioToClass( dimRatio ), {\n\t\t'is-dark-theme': isDark,\n\t\t'has-background-dim': dimRatio !== 0,\n\t\t'has-parallax': hasParallax,\n\t\t[ overlayColor.class ]: overlayColor.class,\n\t\t'has-background-gradient': gradientValue,\n\t\t[ gradientClass ]: ! url && gradientClass,\n\t} );\n\n\treturn (\n\t\t<>\n\t\t\t{ controls }\n\t\t\t<ResizableCover\n\t\t\t\tclassName={ classnames(\n\t\t\t\t\t'block-library-cover__resize-container',\n\t\t\t\t\t{\n\t\t\t\t\t\t'is-selected': isSelected,\n\t\t\t\t\t}\n\t\t\t\t) }\n\t\t\t\tonResizeStart={ () => toggleSelection( false ) }\n\t\t\t\tonResize={ setTemporaryMinHeight }\n\t\t\t\tonResizeStop={ ( newMinHeight ) => {\n\t\t\t\t\ttoggleSelection( true );\n\t\t\t\t\tsetAttributes( { minHeight: newMinHeight } );\n\t\t\t\t\tsetTemporaryMinHeight( null );\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t<div data-url={ url } style={ style } className={ classes }>\n\t\t\t\t\t{ IMAGE_BACKGROUND_TYPE === backgroundType && (\n\t\t\t\t\t\t// Used only to programmatically check if the image is dark or not\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tref={ isDarkElement }\n\t\t\t\t\t\t\taria-hidden\n\t\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\tdisplay: 'none',\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tsrc={ url }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ url && gradientValue && dimRatio !== 0 && (\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\tclassName={ classnames(\n\t\t\t\t\t\t\t\t'wp-block-cover__gradient-background',\n\t\t\t\t\t\t\t\tgradientClass\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\tstyle={ { background: gradientValue } }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ VIDEO_BACKGROUND_TYPE === backgroundType && (\n\t\t\t\t\t\t<video\n\t\t\t\t\t\t\tref={ isDarkElement }\n\t\t\t\t\t\t\tclassName=\"wp-block-cover__video-background\"\n\t\t\t\t\t\t\tautoPlay\n\t\t\t\t\t\t\tmuted\n\t\t\t\t\t\t\tloop\n\t\t\t\t\t\t\tsrc={ url }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t<div className=\"wp-block-cover__inner-container\">\n\t\t\t\t\t\t<InnerBlocks template={ INNER_BLOCKS_TEMPLATE } />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</ResizableCover>\n\t\t</>\n\t);\n}\n\nexport default compose( [\n\twithDispatch( ( dispatch ) => {\n\t\tconst { toggleSelection } = dispatch( 'core/block-editor' );\n\n\t\treturn {\n\t\t\ttoggleSelection,\n\t\t};\n\t} ),\n\twithColors( { overlayColor: 'background-color' } ),\n\twithNotices,\n\twithInstanceId,\n] )( CoverEdit );\n"]}