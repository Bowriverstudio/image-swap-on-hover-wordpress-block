{"version":3,"sources":["@wordpress/components/src/snackbar/index.js"],"names":["NOTICE_TIMEOUT","Snackbar","ref","className","children","actions","onRemove","noop","timeoutHandle","setTimeout","clearTimeout","classes","length","map","index","label","onClick","url","event","stopPropagation"],"mappings":";;;;;;;;;AASA;;AANA;;AACA;;AAMA;;AACA;;AAKA;;AAhBA;;;;AAMA;;;;AAOA;;;AAKA,IAAMA,cAAc,GAAG,KAAvB;;AAEA,SAASC,QAAT,OAECC,GAFD,EAGE;AAAA,MAFCC,SAED,QAFCA,SAED;AAAA,MAFYC,QAEZ,QAFYA,QAEZ;AAAA,0BAFsBC,OAEtB;AAAA,MAFsBA,OAEtB,6BAFgC,EAEhC;AAAA,2BAFoCC,QAEpC;AAAA,MAFoCA,QAEpC,8BAF+CC,YAE/C;AACD,0BAAW,YAAM;AAChB,QAAMC,aAAa,GAAGC,UAAU,CAAE,YAAM;AACvCH,MAAAA,QAAQ;AACR,KAF+B,EAE7BN,cAF6B,CAAhC;AAIA,WAAO;AAAA,aAAMU,YAAY,CAAEF,aAAF,CAAlB;AAAA,KAAP;AACA,GAND,EAMG,EANH;AAQA,MAAMG,OAAO,GAAG,yBAAYR,SAAZ,EAAuB,qBAAvB,CAAhB;;AACA,MAAKE,OAAO,IAAIA,OAAO,CAACO,MAAR,GAAiB,CAAjC,EAAqC;AACpC;AACA,mHACC,mFADD,WAFoC,CAKpC;;AACAP,IAAAA,OAAO,GAAG,CAAEA,OAAO,CAAE,CAAF,CAAT,CAAV;AACA;;AAED,SACC;AACC,IAAA,GAAG,EAAGH,GADP;AAEC,IAAA,SAAS,EAAGS,OAFb;AAGC,IAAA,OAAO,EAAGL,QAHX;AAIC,IAAA,QAAQ,EAAC,GAJV;AAKC,IAAA,IAAI,EAAC,QALN;AAMC,IAAA,UAAU,EAAGA,QANd;AAOC,IAAA,KAAK,EAAG,cAAI,qBAAJ;AAPT,KASC;AAAK,IAAA,SAAS,EAAC;AAAf,KACGF,QADH,EAEGC,OAAO,CAACQ,GAAR,CAAa,iBAA2BC,KAA3B,EAAsC;AAAA,QAAlCC,KAAkC,SAAlCA,KAAkC;AAAA,QAA3BC,QAA2B,SAA3BA,OAA2B;AAAA,QAAlBC,GAAkB,SAAlBA,GAAkB;AACpD,WACC,4BAAC,QAAD;AACC,MAAA,GAAG,EAAGH,KADP;AAEC,MAAA,IAAI,EAAGG,GAFR;AAGC,MAAA,UAAU,MAHX;AAIC,MAAA,OAAO,EAAG,iBAAEC,KAAF,EAAa;AACtBA,QAAAA,KAAK,CAACC,eAAN;;AACA,YAAKH,QAAL,EAAe;AACdA,UAAAA,QAAO,CAAEE,KAAF,CAAP;AACA;AACD,OATF;AAUC,MAAA,SAAS,EAAC;AAVX,OAYGH,KAZH,CADD;AAgBA,GAjBC,CAFH,CATD,CADD;AAiCA;;eAEc,yBAAYd,QAAZ,C","sourcesContent":["/**\n * External dependencies\n */\nimport { noop } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useEffect, forwardRef } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport warning from '@wordpress/warning';\n\n/**\n * Internal dependencies\n */\nimport { Button } from '../';\n\nconst NOTICE_TIMEOUT = 10000;\n\nfunction Snackbar(\n\t{ className, children, actions = [], onRemove = noop },\n\tref\n) {\n\tuseEffect( () => {\n\t\tconst timeoutHandle = setTimeout( () => {\n\t\t\tonRemove();\n\t\t}, NOTICE_TIMEOUT );\n\n\t\treturn () => clearTimeout( timeoutHandle );\n\t}, [] );\n\n\tconst classes = classnames( className, 'components-snackbar' );\n\tif ( actions && actions.length > 1 ) {\n\t\t// we need to inform developers that snackbar only accepts 1 action\n\t\twarning(\n\t\t\t'Snackbar can only have 1 action, use Notice if your message require many messages'\n\t\t);\n\t\t// return first element only while keeping it inside an array\n\t\tactions = [ actions[ 0 ] ];\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tref={ ref }\n\t\t\tclassName={ classes }\n\t\t\tonClick={ onRemove }\n\t\t\ttabIndex=\"0\"\n\t\t\trole=\"button\"\n\t\t\tonKeyPress={ onRemove }\n\t\t\tlabel={ __( 'Dismiss this notice' ) }\n\t\t>\n\t\t\t<div className=\"components-snackbar__content\">\n\t\t\t\t{ children }\n\t\t\t\t{ actions.map( ( { label, onClick, url }, index ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\thref={ url }\n\t\t\t\t\t\t\tisTertiary\n\t\t\t\t\t\t\tonClick={ ( event ) => {\n\t\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\t\tif ( onClick ) {\n\t\t\t\t\t\t\t\t\tonClick( event );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tclassName=\"components-snackbar__action\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ label }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default forwardRef( Snackbar );\n"]}