{"version":3,"sources":["@wordpress/components/src/mobile/keyboard-aware-flat-list/index.ios.js"],"names":["KeyboardAwareScrollView","FlatList","KeyboardAwareFlatList","extraScrollHeight","shouldPreventAutomaticScroll","innerRef","autoScroll","scrollViewStyle","listProps","flex","undefined","ref","scrollViewRef","keyboardWillShowIndicator","setTimeout","latestContentOffsetY","props","scrollToPosition","event","nativeEvent","contentOffset","y","handleCaretVerticalPositionChange","scrollView","targetId","caretY","previousCaretY","refreshScrollForField"],"mappings":";;;;;;AAAA;;;AAGA,SAASA,uBAAT,QAAwC,yCAAxC;AACA,SAASC,QAAT,QAAyB,cAAzB;AAEA,OAAO,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB;AAAA,MACpCC,iBADoC,QACpCA,iBADoC;AAAA,MAEpCC,4BAFoC,QAEpCA,4BAFoC;AAAA,MAGpCC,SAHoC,QAGpCA,QAHoC;AAAA,MAIpCC,UAJoC,QAIpCA,UAJoC;AAAA,MAKpCC,eALoC,QAKpCA,eALoC;AAAA,MAMjCC,SANiC;;AAAA,SAQpC,cAAC,uBAAD;AACC,IAAA,KAAK,EAAG,CAAE;AAAEC,MAAAA,IAAI,EAAE;AAAR,KAAF,EAAeF,eAAf,CADT;AAEC,IAAA,mBAAmB,EAAC,MAFrB;AAGC,IAAA,yBAAyB,EAAG,KAH7B;AAIC,IAAA,yBAAyB,EAAC,SAJ3B;AAKC,IAAA,iBAAiB,EAAGJ,iBALrB;AAMC,IAAA,WAAW,EAAG,CANf;AAOC,IAAA,qBAAqB,EAAGG,UAAU,KAAKI,SAAf,GAA2B,KAA3B,GAAmCJ,UAP5D;AAQC,IAAA,QAAQ,EAAG,kBAAEK,GAAF,EAAW;AACrB,MAAA,KAAI,CAACC,aAAL,GAAqBD,GAArB;;AACAN,MAAAA,SAAQ,CAAEM,GAAF,CAAR;AACA,KAXF;AAYC,IAAA,kBAAkB,EAAG,8BAAM;AAC1B,MAAA,KAAI,CAACE,yBAAL,GAAiC,KAAjC;AACA,KAdF;AAeC,IAAA,iBAAiB,EAAG,6BAAM;AACzBC,MAAAA,UAAU,CAAE,YAAM;AACjB,YAAK,CAAE,KAAI,CAACD,yBAAP,IACJ,KAAI,CAACE,oBAAL,KAA8BL,SAD1B,IAEJ,CAAEN,4BAA4B,EAF/B,EAEoC;AACnC;AACA,cAAK,KAAI,CAACQ,aAAV,EAA0B;AACzB,YAAA,KAAI,CAACA,aAAL,CAAmBI,KAAnB,CAAyBC,gBAAzB,CAA2C,CAA3C,EAA8C,KAAI,CAACF,oBAAnD,EAAyE,IAAzE;AACA;AACD;AACD,OATS,EASP,EATO,CAAV;AAUA,KA1BF;AA2BC,IAAA,kBAAkB,EAAG,8BAAM;AAC1B,MAAA,KAAI,CAACF,yBAAL,GAAiC,IAAjC;AACA,KA7BF;AA8BC,IAAA,QAAQ,EAAG,kBAAEK,KAAF,EAAa;AACvB,MAAA,KAAI,CAACH,oBAAL,GAA4BG,KAAK,CAACC,WAAN,CAAkBC,aAAlB,CAAgCC,CAA5D;AACA;AAhCF,KAiCC,cAAC,QAAD,EAAeb,SAAf,CAjCD,CARoC;AAAA,CAA9B;;AA6CPN,qBAAqB,CAACoB,iCAAtB,GAA0D,UAAEC,UAAF,EAAcC,QAAd,EAAwBC,MAAxB,EAAgCC,cAAhC,EAAoD;AAC7G,MAAKA,cAAL,EAAsB;AAAE;AACvBH,IAAAA,UAAU,CAACP,KAAX,CAAiBW,qBAAjB,CAAwCH,QAAxC;AACA;AACD,CAJD;;AAMA,eAAetB,qBAAf","sourcesContent":["/**\n * External dependencies\n */\nimport { KeyboardAwareScrollView } from 'react-native-keyboard-aware-scroll-view';\nimport { FlatList } from 'react-native';\n\nexport const KeyboardAwareFlatList = ( {\n\textraScrollHeight,\n\tshouldPreventAutomaticScroll,\n\tinnerRef,\n\tautoScroll,\n\tscrollViewStyle,\n\t...listProps\n} ) => (\n\t<KeyboardAwareScrollView\n\t\tstyle={ [ { flex: 1 }, scrollViewStyle ] }\n\t\tkeyboardDismissMode=\"none\"\n\t\tenableResetScrollToCoords={ false }\n\t\tkeyboardShouldPersistTaps=\"handled\"\n\t\textraScrollHeight={ extraScrollHeight }\n\t\textraHeight={ 0 }\n\t\tenableAutomaticScroll={ autoScroll === undefined ? false : autoScroll }\n\t\tinnerRef={ ( ref ) => {\n\t\t\tthis.scrollViewRef = ref;\n\t\t\tinnerRef( ref );\n\t\t} }\n\t\tonKeyboardWillHide={ () => {\n\t\t\tthis.keyboardWillShowIndicator = false;\n\t\t} }\n\t\tonKeyboardDidHide={ () => {\n\t\t\tsetTimeout( () => {\n\t\t\t\tif ( ! this.keyboardWillShowIndicator &&\n\t\t\t\t\tthis.latestContentOffsetY !== undefined &&\n\t\t\t\t\t! shouldPreventAutomaticScroll() ) {\n\t\t\t\t\t// Reset the content position if keyboard is still closed\n\t\t\t\t\tif ( this.scrollViewRef ) {\n\t\t\t\t\t\tthis.scrollViewRef.props.scrollToPosition( 0, this.latestContentOffsetY, true );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, 50 );\n\t\t} }\n\t\tonKeyboardWillShow={ () => {\n\t\t\tthis.keyboardWillShowIndicator = true;\n\t\t} }\n\t\tonScroll={ ( event ) => {\n\t\t\tthis.latestContentOffsetY = event.nativeEvent.contentOffset.y;\n\t\t} } >\n\t\t<FlatList { ...listProps } />\n\t</KeyboardAwareScrollView>\n);\n\nKeyboardAwareFlatList.handleCaretVerticalPositionChange = ( scrollView, targetId, caretY, previousCaretY ) => {\n\tif ( previousCaretY ) { //if this is not the first tap\n\t\tscrollView.props.refreshScrollForField( targetId );\n\t}\n};\n\nexport default KeyboardAwareFlatList;\n\n"]}