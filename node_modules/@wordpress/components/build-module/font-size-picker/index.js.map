{"version":3,"sources":["@wordpress/components/src/font-size-picker/index.js"],"names":["useState","__","withInstanceId","Button","RangeControl","CustomSelectControl","getSelectValueFromFontSize","fontSizes","value","fontSizeValue","find","font","size","slug","getSelectOptions","optionsArray","disableCustomFontSizes","name","map","option","key","style","fontSize","FontSizePicker","fallbackFontSize","onChange","withSlider","instanceId","currentSelectValue","setCurrentSelectValue","length","onChangeValue","event","newValue","target","Number","undefined","onSelectChangeValue","selectedItem","onSliderChangeValue","sliderValue","options","rangeControlNumberId"],"mappings":"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","sourcesContent":["\n/**\n * WordPress dependencies\n */\nimport { useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { withInstanceId } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport Button from '../button';\nimport RangeControl from '../range-control';\nimport CustomSelectControl from '../custom-select-control';\n\nfunction getSelectValueFromFontSize( fontSizes, value ) {\n\tif ( value ) {\n\t\tconst fontSizeValue = fontSizes.find( ( font ) => font.size === value );\n\t\treturn fontSizeValue ? fontSizeValue.slug : 'custom';\n\t}\n\treturn 'normal';\n}\n\nfunction getSelectOptions( optionsArray, disableCustomFontSizes ) {\n\tif ( ! disableCustomFontSizes ) {\n\t\toptionsArray = [\n\t\t\t...optionsArray,\n\t\t\t{ slug: 'custom', name: __( 'Custom' ) },\n\t\t];\n\t}\n\treturn optionsArray.map( ( option ) => ( {\n\t\tkey: option.slug,\n\t\tname: option.name,\n\t\tstyle: { fontSize: option.size },\n\t} ) );\n}\n\nfunction FontSizePicker( {\n\tfallbackFontSize,\n\tfontSizes = [],\n\tdisableCustomFontSizes = false,\n\tonChange,\n\tvalue,\n\twithSlider = false,\n\tinstanceId,\n} ) {\n\tconst [ currentSelectValue, setCurrentSelectValue ] = useState( getSelectValueFromFontSize( fontSizes, value ) );\n\n\tif ( disableCustomFontSizes && ! fontSizes.length ) {\n\t\treturn null;\n\t}\n\n\tconst onChangeValue = ( event ) => {\n\t\tconst newValue = event.target.value;\n\t\tsetCurrentSelectValue( getSelectValueFromFontSize( fontSizes, Number( newValue ) ) );\n\t\tif ( newValue === '' ) {\n\t\t\tonChange( undefined );\n\t\t\treturn;\n\t\t}\n\t\tonChange( Number( newValue ) );\n\t};\n\n\tconst onSelectChangeValue = ( { selectedItem } ) => {\n\t\tsetCurrentSelectValue( selectedItem.key );\n\t\tonChange( selectedItem.style && selectedItem.style.fontSize );\n\t};\n\n\tconst onSliderChangeValue = ( sliderValue ) => {\n\t\tonChange( sliderValue );\n\t\tsetCurrentSelectValue( getSelectValueFromFontSize( fontSizes, sliderValue ) );\n\t};\n\n\tconst options = getSelectOptions( fontSizes, disableCustomFontSizes );\n\tconst rangeControlNumberId = `components-range-control__number#${ instanceId }`;\n\treturn (\n\t\t<fieldset className=\"components-font-size-picker\">\n\t\t\t<legend className=\"screen-reader-text\">\n\t\t\t\t{ __( 'Font Size' ) }\n\t\t\t</legend>\n\t\t\t<div className=\"components-font-size-picker__controls\">\n\t\t\t\t{ fontSizes.length > 0 && (\n\t\t\t\t\t<CustomSelectControl\n\t\t\t\t\t\tclassName={ 'components-font-size-picker__select' }\n\t\t\t\t\t\tlabel={ __( 'Preset Size' ) }\n\t\t\t\t\t\toptions={ options }\n\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\toptions.find( ( option ) => option.key === currentSelectValue ) ||\n\t\t\t\t\t\t\toptions[ 0 ]\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonChange={ onSelectChangeValue }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ ( ! withSlider && ! disableCustomFontSizes ) &&\n\t\t\t\t\t<div className=\"components-range-control__number-container\">\n\t\t\t\t\t\t<label htmlFor={ rangeControlNumberId }>{ __( 'Custom' ) }</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid={ rangeControlNumberId }\n\t\t\t\t\t\t\tclassName=\"components-range-control__number\"\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tonChange={ onChangeValue }\n\t\t\t\t\t\t\taria-label={ __( 'Custom' ) }\n\t\t\t\t\t\t\tvalue={ value || '' }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"components-color-palette__clear\"\n\t\t\t\t\tdisabled={ value === undefined }\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tonChange( undefined );\n\t\t\t\t\t\tsetCurrentSelectValue( getSelectValueFromFontSize( fontSizes, undefined ) );\n\t\t\t\t\t} }\n\t\t\t\t\tisSmall\n\t\t\t\t\tisDefault\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Reset' ) }\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t\t{ withSlider &&\n\t\t\t\t<RangeControl\n\t\t\t\t\tclassName=\"components-font-size-picker__custom-input\"\n\t\t\t\t\tlabel={ __( 'Custom Size' ) }\n\t\t\t\t\tvalue={ value || '' }\n\t\t\t\t\tinitialPosition={ fallbackFontSize }\n\t\t\t\t\tonChange={ onSliderChangeValue }\n\t\t\t\t\tmin={ 12 }\n\t\t\t\t\tmax={ 100 }\n\t\t\t\t\tbeforeIcon=\"editor-textcolor\"\n\t\t\t\t\tafterIcon=\"editor-textcolor\"\n\t\t\t\t/>\n\t\t\t}\n\t\t</fieldset>\n\t);\n}\n\nexport default withInstanceId( FontSizePicker );\n"]}