{"version":3,"sources":["@wordpress/components/src/snackbar/index.js"],"names":["noop","classnames","useEffect","forwardRef","__","warning","Button","NOTICE_TIMEOUT","Snackbar","ref","className","children","actions","onRemove","timeoutHandle","setTimeout","clearTimeout","classes","length","map","index","label","onClick","url","event","stopPropagation"],"mappings":";;AAAA;;;AAGA,SAASA,IAAT,QAAqB,QAArB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AAEA;;;;AAGA,SAASC,SAAT,EAAoBC,UAApB,QAAsC,oBAAtC;AACA,SAASC,EAAT,QAAmB,iBAAnB;AACA,OAAOC,OAAP,MAAoB,oBAApB;AAEA;;;;AAGA,SAASC,MAAT,QAAuB,KAAvB;AAEA,IAAMC,cAAc,GAAG,KAAvB;;AAEA,SAASC,QAAT,OAECC,GAFD,EAGE;AAAA,MAFCC,SAED,QAFCA,SAED;AAAA,MAFYC,QAEZ,QAFYA,QAEZ;AAAA,0BAFsBC,OAEtB;AAAA,MAFsBA,OAEtB,6BAFgC,EAEhC;AAAA,2BAFoCC,QAEpC;AAAA,MAFoCA,QAEpC,8BAF+Cb,IAE/C;AACDE,EAAAA,SAAS,CAAE,YAAM;AAChB,QAAMY,aAAa,GAAGC,UAAU,CAAE,YAAM;AACvCF,MAAAA,QAAQ;AACR,KAF+B,EAE7BN,cAF6B,CAAhC;AAIA,WAAO;AAAA,aAAMS,YAAY,CAAEF,aAAF,CAAlB;AAAA,KAAP;AACA,GANQ,EAMN,EANM,CAAT;AAQA,MAAMG,OAAO,GAAGhB,UAAU,CAAES,SAAF,EAAa,qBAAb,CAA1B;;AACA,MAAKE,OAAO,IAAIA,OAAO,CAACM,MAAR,GAAiB,CAAjC,EAAqC;AACpC;AACA,6FAAAb,OAAO,CACN,mFADM,CAAP,UAFoC,CAKpC;;AACAO,IAAAA,OAAO,GAAG,CAAEA,OAAO,CAAE,CAAF,CAAT,CAAV;AACA;;AAED,SACC;AACC,IAAA,GAAG,EAAGH,GADP;AAEC,IAAA,SAAS,EAAGQ,OAFb;AAGC,IAAA,OAAO,EAAGJ,QAHX;AAIC,IAAA,QAAQ,EAAC,GAJV;AAKC,IAAA,IAAI,EAAC,QALN;AAMC,IAAA,UAAU,EAAGA,QANd;AAOC,IAAA,KAAK,EAAGT,EAAE,CAAE,qBAAF;AAPX,KASC;AAAK,IAAA,SAAS,EAAC;AAAf,KACGO,QADH,EAEGC,OAAO,CAACO,GAAR,CAAa,iBAA2BC,KAA3B,EAAsC;AAAA,QAAlCC,KAAkC,SAAlCA,KAAkC;AAAA,QAA3BC,QAA2B,SAA3BA,OAA2B;AAAA,QAAlBC,GAAkB,SAAlBA,GAAkB;AACpD,WACC,cAAC,MAAD;AACC,MAAA,GAAG,EAAGH,KADP;AAEC,MAAA,IAAI,EAAGG,GAFR;AAGC,MAAA,UAAU,MAHX;AAIC,MAAA,OAAO,EAAG,iBAAEC,KAAF,EAAa;AACtBA,QAAAA,KAAK,CAACC,eAAN;;AACA,YAAKH,QAAL,EAAe;AACdA,UAAAA,QAAO,CAAEE,KAAF,CAAP;AACA;AACD,OATF;AAUC,MAAA,SAAS,EAAC;AAVX,OAYGH,KAZH,CADD;AAgBA,GAjBC,CAFH,CATD,CADD;AAiCA;;AAED,eAAelB,UAAU,CAAEK,QAAF,CAAzB","sourcesContent":["/**\n * External dependencies\n */\nimport { noop } from 'lodash';\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { useEffect, forwardRef } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport warning from '@wordpress/warning';\n\n/**\n * Internal dependencies\n */\nimport { Button } from '../';\n\nconst NOTICE_TIMEOUT = 10000;\n\nfunction Snackbar(\n\t{ className, children, actions = [], onRemove = noop },\n\tref\n) {\n\tuseEffect( () => {\n\t\tconst timeoutHandle = setTimeout( () => {\n\t\t\tonRemove();\n\t\t}, NOTICE_TIMEOUT );\n\n\t\treturn () => clearTimeout( timeoutHandle );\n\t}, [] );\n\n\tconst classes = classnames( className, 'components-snackbar' );\n\tif ( actions && actions.length > 1 ) {\n\t\t// we need to inform developers that snackbar only accepts 1 action\n\t\twarning(\n\t\t\t'Snackbar can only have 1 action, use Notice if your message require many messages'\n\t\t);\n\t\t// return first element only while keeping it inside an array\n\t\tactions = [ actions[ 0 ] ];\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tref={ ref }\n\t\t\tclassName={ classes }\n\t\t\tonClick={ onRemove }\n\t\t\ttabIndex=\"0\"\n\t\t\trole=\"button\"\n\t\t\tonKeyPress={ onRemove }\n\t\t\tlabel={ __( 'Dismiss this notice' ) }\n\t\t>\n\t\t\t<div className=\"components-snackbar__content\">\n\t\t\t\t{ children }\n\t\t\t\t{ actions.map( ( { label, onClick, url }, index ) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\thref={ url }\n\t\t\t\t\t\t\tisTertiary\n\t\t\t\t\t\t\tonClick={ ( event ) => {\n\t\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\t\tif ( onClick ) {\n\t\t\t\t\t\t\t\t\tonClick( event );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tclassName=\"components-snackbar__action\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ label }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default forwardRef( Snackbar );\n"]}