!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e=e||self).ReakitUtils={},e.React)}(this,(function(e,t){"use strict";function n(e,t){return"matches"in e?e.matches(t):"msMatchesSelector"in e?e.msMatchesSelector(t):e.webkitMatchesSelector(t)}function r(e,t){if("closest"in e)return e.closest(t);do{if(n(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}function o(e){return e?e.ownerDocument||e:window.document}var i=["button","color","file","image","reset","submit"];function u(e){return"object"==typeof e&&null!=e}function a(e,t){return-1===t?e:[].concat(e.slice(0,t),e.slice(t+1))}function f(e){return o(e).activeElement}var c="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])";function l(e){return e.matches(c)&&function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0}(e)}function s(e){return l(e)&&!function(e){return parseInt(e.getAttribute("tabIndex")||"0",10)<0}(e)}function v(e){var t=Array.from(e.querySelectorAll(c));return t.unshift(e),t.filter(l)}function d(e,t){var n=Array.from(e.querySelectorAll(c)),r=n.filter(s);return s(e)&&r.unshift(e),!r.length&&t?n:r}function b(e){return f(e)===e}var y=t.createContext((function(e){return void 0===e&&(e="id-"),""+e+Math.random().toString(32).substr(2,6)}));e.IdProvider=function(e){var n=e.children,r=e.unstable_prefix,o=void 0===r?"":r,i=t.useRef(0),u=t.useMemo((function(){return function(e){return void 0===e&&(e="id-"),""+o+e+ ++i.current}}),[o]);return t.createElement(y.Provider,{value:u},n)},e.closest=r,e.createOnKeyDown=function(e){var t=void 0===e?{}:e,n=t.keyMap,r=t.onKey,o=t.stopPropagation,i=t.onKeyDown,u=t.shouldKeyDown,a=void 0===u?function(){return!0}:u,f=t.preventDefault,c=void 0===f||f;return function(e){if(n){var t="function"==typeof n?n(e):n,u="function"==typeof c?c(e):c,f="function"==typeof o?o(e):o;if(e.key in t){var l=t[e.key];if("function"==typeof l&&a(e))return u&&e.preventDefault(),f&&e.stopPropagation(),r&&r(e),void l(e)}i&&i(e)}}},e.cx=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")||void 0},e.ensureFocus=function(e,t){var n=void 0===t?{}:t,r=n.isActive,o=void 0===r?b:r,i=n.preventScroll;return o(e)?-1:(e.focus({preventScroll:i}),o(e)?-1:requestAnimationFrame((function(){e.focus({preventScroll:i})})))},e.getAllFocusableIn=v,e.getAllTabbableIn=d,e.getClosestFocusable=function(e){var t=null;do{t=r(e,c)}while(t&&!l(t));return t},e.getDocument=o,e.getFirstFocusableIn=function(e){var t=v(e);return t.length?t[0]:null},e.getFirstTabbableIn=function(e,t){return d(e,t)[0]||null},e.getLastTabbableIn=function(e,t){var n=d(e,t);return n[n.length-1]||null},e.getNextTabbableIn=function(e,t){var n=f(e),r=v(e),o=r.indexOf(n),i=r.slice(o+1);return i.find(s)||r.find(s)||(t?i[0]:null)},e.getPreviousTabbableIn=function(e,t){var n=f(e),r=v(e).reverse(),o=r.indexOf(n),i=r.slice(o+1);return i.find(s)||r.find(s)||(t?i[0]:null)},e.hasFocusWithin=function(e){var t=o(e);return!!t.activeElement&&e.contains(t.activeElement)},e.isButton=function(e){if("BUTTON"===e.tagName)return!0;if("INPUT"===e.tagName){var t=e;return-1!==i.indexOf(t.type)}return!1},e.isEmpty=function(e){return Array.isArray(e)?!e.length:u(e)?!Object.keys(e).length:null==e||""===e},e.isFocusable=l,e.isInteger=function(e){return"number"==typeof e?Math.floor(e)===e:String(Math.floor(Number(e)))===e},e.isObject=u,e.isPlainObject=function(e){var t;if(!u(e))return!1;var n=Object.getPrototypeOf(e);return null==n||(null===(t=n.constructor)||void 0===t?void 0:t.toString())===Object.toString()},e.isPromise=function(e){return Boolean(e&&e.then)},e.isTabbable=s,e.mergeRefs=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);return r.length?1===r.length?r[0]:function(e){var t=r,n=Array.isArray(t),o=0;for(t=n?t:t[Symbol.iterator]();;){var i;if(n){if(o>=t.length)break;i=t[o++]}else{if((o=t.next()).done)break;i=o.value}var u=i;"function"==typeof u?u(e):u&&(u.current=e)}}:null},e.omit=function(e,t){for(var n=Object.keys(e),r={},o=0;o<n.length;o+=1){var i=n[o];-1===t.indexOf(i)&&(r[i]=e[i])}return r},e.pick=function(e,t){for(var n=Object.keys(e),r={},o=0;o<n.length;o+=1){var i=n[o];t.indexOf(i)>=0&&(r[i]=e[i])}return r},e.removeIndexFromArray=a,e.removeItemFromArray=function(e,t){var n=e.indexOf(t);return a(e,n)},e.splitProps=function(e,t){for(var n={},r={},o=0,i=Object.keys(e);o<i.length;o++){var u=i[o];t.indexOf(u)>=0?n[u]=e[u]:r[u]=e[u]}return[n,r]},e.toArray=function(e){return Array.isArray(e)?e:void 0!==e?[e]:[]},e.useAllCallbacks=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useCallback((function(){var e=n.filter(Boolean),t=e,r=Array.isArray(t),o=0;for(t=r?t:t[Symbol.iterator]();;){var i;if(r){if(o>=t.length)break;i=t[o++]}else{if((o=t.next()).done)break;i=o.value}var u=i;u.apply(void 0,arguments)}}),n)},e.useId=function(e){void 0===e&&(e="id-");var n=t.useContext(y);return t.useState((function(){return n(e)}))[0]},e.useLiveRef=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e})),n},e.usePipe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useCallback((function(e){return n.filter(Boolean).reduce((function(e,t){return t(e)}),e)}),n)},e.useSealedState=function(e){return t.useState(e)[0]},e.useUpdateEffect=function(e,n){var r=t.useRef(!1);t.useEffect((function(){if(r.current)return e();r.current=!0}),n)},e.warning=function(e){},Object.defineProperty(e,"__esModule",{value:!0})}));
